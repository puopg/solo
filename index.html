<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' type='css' href='styles.css'> 
    <script src="d3.js" charset="utf-8"></script>
    <script src="src/PointerPrecisionGame.js" charset="utf-8"></script>
    <script src="src/arena.js" charset="utf-8"></script>
    <script src="src/enemy.js" charset="utf-8"></script>
    <script src="src/player.js" charset="utf-8"></script>
    <script src="src/utils.js" charset="utf-8"></script>
  </head>
  <body>
    <div class="container">
      <div style="width:481px;height:481px">
        <svg id='arena' width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">
              <path d="M 8 0 L 0 0 0 8" fill="none" stroke="gray" stroke-width="0.5"/>
            </pattern>
            <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">
              <rect width="80" height="80" fill="url(#smallGrid)"/>
              <path d="M 80 0 L 0 0 0 80" fill="none" stroke="gray" stroke-width="1"/>
            </pattern>
          </defs>
          <rect id='canvas' width="100%" height="100%" fill="url(#grid)"/>
        </svg>
      </div>
    </div>
    <script>
    var game = new PointerPrecisionGame(481, 481);

    var playEvent = document.createEvent("Event");
    var endEvent = document.createEvent("Event");
    playEvent.initEvent("play",true,true);
    endEvent.initEvent("end",true,true);
    document.addEventListener("play",game.play.bind(this.game),false);
    document.addEventListener("end",game.end.bind(this.game),false);
    </script>
    <div class='stats'>

    </div>
    <button onclick='document.dispatchEvent(playEvent)'>Start Game!</button>
    <button onclick='document.dispatchEvent(endEvent)'>End Game!</button>
    <div class="scoreboard">
      <div class="lives">Lives: <span>0</span></div>
      <div class="high">High score: <span>0</span></div>
      <div class="current">Current score: <span>0</span></div>
      <div class="misses">Misses: <span>0</span></div>
      <div class="accuracy">Accuracy: <span>100%</span></div>
    </div>
  </body>
</html>
